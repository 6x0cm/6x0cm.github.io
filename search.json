[{"title":"任意用户密码重置(一):前端绕过","url":"https://www.06m.me/2018/03/16/任意用户密码重置-一-前端绕过/","content":"<p>在逻辑漏洞中，任意用户密码重置漏洞最为常见，尤其是在密码找回界面是才是密码重置的重灾区。形成漏洞的原因往往是开发人员疏忽大意，只在前端对服务器返回的值作为更改密码的校验，没有在后端做二次校验。</p>\n<h1 id=\"案例：对返回的包进行修改绕过验证\"><a href=\"#案例：对返回的包进行修改绕过验证\" class=\"headerlink\" title=\"案例：对返回的包进行修改绕过验证\"></a>案例：对返回的包进行修改绕过验证</h1><p>密码重置页面，输入要重置的账号（手机号码），获取验证码，输入验证码<br><img src=\"https://i.imgur.com/U07Xx1K.png\" alt=\"\"><br>开启浏览器的网络监听，观察Response<br><img src=\"https://i.imgur.com/PVL6lbU.png\" alt=\"\"><br>也就是说当Status为1的时候，是不让修改密码的。我习惯性的view code，大概是这样说的，如果status等于0的时候跳转到第二步，不等于0的时候，提示验证码不正确。这明显是一个前端验证，只要我们绕过这个验证，是可以成功修改密码的。<br>修改response中的值为0<br><img src=\"https://i.imgur.com/TCcFmnw.png\" alt=\"\"><br>放行包后,便可修改密码<br><img src=\"https://i.imgur.com/JNuWXee.png\" alt=\"\"><br><img src=\"https://i.imgur.com/90vC19Q.png\" alt=\"\"></p>\n<hr>\n","categories":[],"tags":[]},{"title":"GITPAGES HTTPS CONFIG","url":"https://www.06m.me/2018/03/16/GITPAGES-HTTPS-CONFIG/","content":"<p>根据网上说的，最简单用CloudFlare。但是没办法，在这个信息泄露的时代，尽量能不注册的就不注册。所以我还是选择了用LET’S 证书，跟着百度走了很多坑，记录一下方便以后再遇到这样的问题能很好的解决，也方便那些正在寻找配置gitpages https证书  (<em>^▽^</em>)</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">upstream uicps  &#123;</span><br><span class=\"line\">     server xxxx.github.io;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen 443;</span><br><span class=\"line\">    server_name www.xx.com;</span><br><span class=\"line\"></span><br><span class=\"line\">    ssl on;</span><br><span class=\"line\">    ssl_certificate chained.pem;</span><br><span class=\"line\">    ssl_certificate_key domain.key;</span><br><span class=\"line\">    ssl_session_timeout 5m;</span><br><span class=\"line\">    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span><br><span class=\"line\">    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-RSA-AES128-SHA256:ECDHE-RSA-AES256-SHA:ECDHE-RSA-AES128-SHA:DHE-RSA-AES256-SHA:DHE-RSA-AES128-SHA;</span><br><span class=\"line\">    ssl_session_cache shared:SSL:50m;</span><br><span class=\"line\">    #ssl_dhparam /path/to/server.dhparam;</span><br><span class=\"line\">    ssl_prefer_server_ciphers on;</span><br><span class=\"line\"></span><br><span class=\"line\">    location / &#123;</span><br><span class=\"line\">       \tproxy_pass http://uicps;</span><br><span class=\"line\">       \tproxy_redirect     off;</span><br><span class=\"line\">        proxy_set_header   Host                       $host;</span><br><span class=\"line\">        proxy_set_header   X-Real-IP               $remote_addr;</span><br><span class=\"line\">        proxy_set_header   X-Forwarded-For  $proxy_add_x_forwarded_for;</span><br><span class=\"line\">\tproxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;</span><br><span class=\"line\">        proxy_max_temp_file_size 0;</span><br><span class=\"line\">        proxy_connect_timeout      90;</span><br><span class=\"line\">        proxy_send_timeout         90;</span><br><span class=\"line\">        proxy_read_timeout         90;</span><br><span class=\"line\">        proxy_buffer_size          4k;</span><br><span class=\"line\">        proxy_buffers              4 32k;</span><br><span class=\"line\">        proxy_busy_buffers_size    64k;</span><br><span class=\"line\">        proxy_temp_file_write_size 64k;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    #...the rest of your config</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">server &#123;</span><br><span class=\"line\">    listen 80;</span><br><span class=\"line\">    server_name www.xx.com;</span><br><span class=\"line\">    return 301 https://$server_name$request_uri;</span><br><span class=\"line\"></span><br><span class=\"line\">    location /.well-known/acme-challenge/ &#123;</span><br><span class=\"line\">        alias /home/challenge/;</span><br><span class=\"line\">        try_files $uri =404;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","categories":[],"tags":[]},{"title":"用生命在折腾","url":"https://www.06m.me/2018/03/16/用生命在折腾/","content":"<p>一朝入梦，终生不醒<br>没有Blog总感觉少点什么。<br>总想写点什么，不知道往哪里写，从哪写，写什么<br>既然折腾了，就好好折腾一下 就酱~~</p>\n","categories":[],"tags":[]},{"title":"关于","url":"https://www.06m.me/about/index.html","content":"","categories":[],"tags":[]},{"title":"分类","url":"https://www.06m.me/category/index.html","content":"","categories":[],"tags":[]},{"title":"友链","url":"https://www.06m.me/link/index.html","content":"","categories":[],"tags":[]},{"title":"项目","url":"https://www.06m.me/project/index.html","content":"","categories":[],"tags":[]},{"title":"tag","url":"https://www.06m.me/tag/index.html","content":"","categories":[],"tags":[]}]